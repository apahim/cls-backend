# Google Cloud Platform Configuration
gcp:
  # REQUIRED: GCP Project ID where resources will be created
  project: ""
  # Region for the API Gateway
  region: "us-central1"

# API Gateway Configuration
apiGateway:
  api:
    # API name in Google API Gateway
    name: "cls-backend-api"
    displayName: "CLS Backend API"
    description: "Cluster Lifecycle Service Backend API with OAuth2 authentication"

  apiConfig:
    # API Config ID will be generated with timestamp for uniqueness
    # Format: cls-user-oauth2-YYYYMMDD-HHMMSS
    idPrefix: "cls-user-oauth2"
    displayNamePrefix: "CLS User OAuth2"

  gateway:
    # Gateway name in Google API Gateway
    name: "cls-backend-gateway"
    displayName: "CLS Backend Gateway"

# Backend Configuration
backend:
  # External IP address (auto-discovered from LoadBalancer service or set manually)
  # Leave empty to auto-discover from the application chart's LoadBalancer service
  externalIP: ""
  # Kubernetes namespace where the LoadBalancer service is deployed
  namespace: "cls-system"
  # Name of the LoadBalancer service to lookup
  serviceName: "cls-application-external"
  # Port where the cls-backend service is accessible
  port: 80
  # Protocol for backend communication
  protocol: "http"

# OAuth2 Configuration
oauth2:
  # Google OAuth2 client ID for authentication
  # This should be created in Google Cloud Console
  clientId: "32555940559.apps.googleusercontent.com"
  # OAuth2 scopes required
  scopes:
    - "openid"
    - "email"
    - "profile"

# CORS Configuration
cors:
  # Allowed origins for CORS requests
  allowedOrigins:
    - "https://console.redhat.com"
    - "https://hybrid-cloud-console.redhat.com"
  # Allowed HTTP methods
  allowedMethods:
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "OPTIONS"
  # Allowed headers
  allowedHeaders:
    - "Content-Type"
    - "Authorization"
    - "X-User-Email"
    - "X-Request-ID"
  # Max age for preflight requests (seconds)
  maxAge: 86400
  # Allow credentials in CORS requests
  allowCredentials: true

# Labels applied to all resources
commonLabels:
  app.kubernetes.io/name: cls-backend
  app.kubernetes.io/component: api-gateway
  app.kubernetes.io/part-of: cls-backend
  app.kubernetes.io/managed-by: helm